{"ast":null,"code":"var _jsxFileName = \"/Users/jennifervphan/Desktop/final project/grandmeet-client/src/components/share/AllPosts.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './AllPosts.css';\nimport { Link } from 'react-router-dom';\nexport default class AllPosts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.formatWrittenAt = this.formatWrittenAt.bind(this);\n  }\n\n  componentDidMount() {\n    axios({\n      method: \"GET\",\n      baseURL: \"\".concat(process.env.REACT_APP_API, \"/post\"),\n      withCredentials: true\n    }).then(response => {\n      let changePost = response.data;\n      let now = new Date();\n      debugger;\n      let eachchangePost = changePost.map(post => {\n        if (post.text[0].length > 100) {\n          post.short = [];\n          post.short[0] = post.text[0].substring(0, 100) + \"...\";\n        } else if (post.text.length > 1) {\n          post.short = [];\n          post.short[0] = post.text[0];\n          post.short[1] = \"...\";\n        }\n\n        post.niceTime = this.formatWrittenAt(new Date(post.writtenAt), now);\n        return post;\n      });\n      this.setState({\n        posts: eachchangePost\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  formatWrittenAt(writtenAt, now) {\n    if (writtenAt.getDate() === now.getDate() && writtenAt.getMonth() === now.getMonth() && writtenAt.getFullYear() === now.getFullYear()) {\n      return \"today \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" + (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" + (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n    } else if (writtenAt.getMonth() === now.getMonth() && writtenAt.getFullYear() === now.getFullYear() && writtenAt.getDate() === now.getDate() - 1) {\n      return \"yesterday \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" + (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" + (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n    } else if (writtenAt.getFullYear() === now.getFullYear()) {\n      return (writtenAt.getDate() < 10 ? \"0\" + writtenAt.getDate().toString() : writtenAt.getDate().toString()) + \".\" + (writtenAt.getMonth() < 10 ? \"0\" + writtenAt.getMonth().toString() : writtenAt.getMonth().toString()) + \". \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" + (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" + (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n    } else {\n      return (writtenAt.getDate() < 10 ? \"0\" + writtenAt.getDate().toString() : writtenAt.getDate()) + \".\" + (writtenAt.getMonth() < 10 ? \"0\" + writtenAt.getMonth().toString() : writtenAt.getMonth()) + \".\" + writtenAt.getFullYear().toString() + \" \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours()) + \":\" + (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes()) + \":\" + (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds());\n    }\n  }\n\n  render() {\n    if (this.state.posts) {\n      const posts = this.state.posts;\n      let eachPost = posts.map((post, index) => {\n        if (post.short) {\n          debugger;\n          let eachShort = post.short.map(short => {\n            return React.createElement(\"p\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80\n              },\n              __self: this\n            }, short);\n          });\n          return React.createElement(\"div\", {\n            className: \"eachPost\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              padding: \"5px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"sharePic\",\n            style: {\n              backgroundImage: \"url(\".concat(post.author.profilePicUrl, \")\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }), React.createElement(\"h4\", {\n            style: {\n              color: \"black\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, post.title)), eachShort, React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              justifyContent: \"space-between\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"far fa-clock\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }), \" \", post.niceTime), React.createElement(Link, {\n            to: {\n              pathname: \"/share/thoughtsCorner/\".concat(post._id)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, \"Read more\")));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"eachPost\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              padding: \"5px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"sharePic\",\n            style: {\n              backgroundImage: \"url(\".concat(post.author.profilePicUrl, \")\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }), React.createElement(\"h4\", {\n            style: {\n              color: \"black\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, post.title)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, post.text[0]), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \"...\"), React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              justifyContent: \"space-between\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"far fa-clock\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }), \" \", post.niceTime), React.createElement(Link, {\n            to: {\n              pathname: \"/share/thoughtsCorner/\".concat(post._id)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \"Read more\")));\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, eachPost);\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/jennifervphan/Desktop/final project/grandmeet-client/src/components/share/AllPosts.jsx"],"names":["React","Component","axios","Link","AllPosts","constructor","props","state","formatWrittenAt","bind","componentDidMount","method","baseURL","process","env","REACT_APP_API","withCredentials","then","response","changePost","data","now","Date","eachchangePost","map","post","text","length","short","substring","niceTime","writtenAt","setState","posts","catch","err","console","log","getDate","getMonth","getFullYear","getHours","toString","getMinutes","getSeconds","render","eachPost","index","eachShort","padding","backgroundImage","author","profilePicUrl","color","title","justifyContent","pathname","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './AllPosts.css';\nimport {Link} from 'react-router-dom';\n\nexport default class AllPosts extends Component {\n    constructor(props) {\n        super(props);\n        this.state= {};\n        this.formatWrittenAt=this.formatWrittenAt.bind(this);\n    }\n\n    componentDidMount(){\n        axios({\n            method: \"GET\",\n            baseURL:`${process.env.REACT_APP_API}/post`,\n            withCredentials: true\n        })\n        .then(response=>{\n            let changePost = response.data;\n            let now = new Date();\n            debugger\n            let eachchangePost= changePost.map(post=>{\n                if (post.text[0].length > 100) {\n                post.short = []\n                post.short[0] = post.text[0].substring(0, 100) + \"...\"\n            }else if (post.text.length > 1) {\n                post.short = []\n                post.short[0] = post.text[0]\n                post.short[1] = \"...\"\n                }\n                post.niceTime = this.formatWrittenAt(new Date(post.writtenAt), now);\n                return post\n            })\n        \n            this.setState({posts:eachchangePost})\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    formatWrittenAt (writtenAt, now) {\n        if (writtenAt.getDate() === now.getDate() &&\n            writtenAt.getMonth() === now.getMonth() &&\n            writtenAt.getFullYear() === now.getFullYear()) {\n            return \"today \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" +\n                (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" +\n                (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n        } else if (writtenAt.getMonth() === now.getMonth() &&\n            writtenAt.getFullYear() === now.getFullYear() &&\n            writtenAt.getDate() === now.getDate() - 1) {\n            return \"yesterday \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" +\n                (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" +\n                (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n        } else if (writtenAt.getFullYear() === now.getFullYear()) {\n            return (writtenAt.getDate() < 10 ? \"0\" + writtenAt.getDate().toString() : writtenAt.getDate().toString()) + \".\" +\n                (writtenAt.getMonth() < 10 ? \"0\" + writtenAt.getMonth().toString() : writtenAt.getMonth().toString()) +\n                \". \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours().toString()) + \":\" +\n                (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes().toString()) + \":\" +\n                (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds().toString());\n        } else {\n            return (writtenAt.getDate() < 10 ? \"0\" + writtenAt.getDate().toString() : writtenAt.getDate()) + \".\" +\n                (writtenAt.getMonth() < 10 ? \"0\" + writtenAt.getMonth().toString() : writtenAt.getMonth()) + \".\" +\n                writtenAt.getFullYear().toString() +\n                \" \" + (writtenAt.getHours() < 10 ? \"0\" + writtenAt.getHours().toString() : writtenAt.getHours()) + \":\" +\n                (writtenAt.getMinutes() < 10 ? \"0\" + writtenAt.getMinutes().toString() : writtenAt.getMinutes()) + \":\" +\n                (writtenAt.getSeconds() < 10 ? \"0\" + writtenAt.getSeconds().toString() : writtenAt.getSeconds());\n        }\n    }\n\n    render() {\n        if(this.state.posts){\n            const {posts}= this.state;\n        let eachPost= posts.map((post,index)=>{\n            if(post.short){\n                debugger\n                let eachShort= post.short.map(short=>{\n                    return(\n                        <p>{short}</p>\n                    )\n                })\n                return(\n                    <div className=\"eachPost\"  key={index}>\n                        <div className=\"rowFlex\" style={{padding:\"5px\"}}>\n                            <div className=\"sharePic\" style={{backgroundImage: `url(${post.author.profilePicUrl})`}}></div>\n                            <h4 style={{color: \"black\"}}>{post.title}</h4>\n                        </div>\n                        {eachShort}\n                        <div className=\"rowFlex\" style={{justifyContent:\"space-between\"}}>\n                            <p><i class=\"far fa-clock\"></i> {post.niceTime}</p>\n                            <Link to={{\n                            pathname:`/share/thoughtsCorner/${post._id}`\n                            }}>Read more\n                            </Link>\n                        </div>\n                        \n                    </div>\n                    \n                    \n                )\n            } else{\n                return(\n                    <div className=\"eachPost\" key={index}>\n                        <div className=\"rowFlex\" style={{padding:\"5px\"}}>\n                            <div className=\"sharePic\" style={{backgroundImage: `url(${post.author.profilePicUrl})`}}></div>\n                            <h4 style={{color: \"black\"}}>{post.title}</h4>\n                        </div>\n                        <p>{post.text[0]}</p>\n                        <p>...</p>\n                        <div className=\"rowFlex\" style={{justifyContent:\"space-between\"}}>\n                            <p><i class=\"far fa-clock\"></i> {post.niceTime}</p>\n                            <Link to={{\n                            pathname:`/share/thoughtsCorner/${post._id}`\n                            }}>Read more</Link>\n                        </div>\n                    </div>\n            )\n            }\n            \n        })\n        return (\n            <div  className=\"posts\">\n                {eachPost}\n            </div>\n        )\n        } else {\n            return(\n                <>\n                </>\n            )\n        }\n        \n    }\n}\n"]},"metadata":{},"sourceType":"module"}