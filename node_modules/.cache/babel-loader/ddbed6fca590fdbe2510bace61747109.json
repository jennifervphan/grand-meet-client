{"ast":null,"code":"var _jsxFileName = \"/Users/jennifervphan/Desktop/final project/grandmeet-client/src/components/share/AllPosts.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './AllPosts.css';\nimport { Link } from 'react-router-dom';\nimport { formatWrittenAt } from '../../method';\nexport default class AllPosts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.formatWrittenAt = formatWrittenAt.bind(this);\n  }\n\n  componentDidMount() {\n    axios({\n      method: \"GET\",\n      baseURL: \"\".concat(process.env.REACT_APP_API, \"/post\"),\n      withCredentials: true\n    }).then(response => {\n      let changePost = response.data;\n      let now = new Date();\n      debugger;\n      let eachchangePost = changePost.map(post => {\n        if (post.text[0].length > 100) {\n          post.short = [];\n          post.short[0] = post.text[0].substring(0, 100) + \"...\";\n        } else if (post.text.length > 1) {\n          post.short = [];\n          post.short[0] = post.text[0];\n          post.short[1] = \"...\";\n        }\n\n        post.niceTime = this.formatWrittenAt(new Date(post.writtenAt), now);\n        return post;\n      });\n      this.setState({\n        posts: eachchangePost\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    if (this.state.posts) {\n      const posts = this.state.posts;\n      let eachPost = posts.map((post, index) => {\n        if (post.short) {\n          debugger; // let eachShort= post.short.map(short=>{\n          //     return(\n          //         <p style={{margin:\"0\"}}>{short}</p>\n          //     )\n          // })\n\n          return React.createElement(\"div\", {\n            className: \"eachPost\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              marginBottom: \"15px\",\n              alignItems: \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"sharePic\",\n            style: {\n              backgroundImage: \"url(\".concat(post.author.profilePicUrl, \")\"),\n              marginRight: \"10px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, post.title)), React.createElement(\"p\", {\n            style: {\n              margin: \"0\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, post.short[0]), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, post.short[1]), React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              justifyContent: \"space-between\",\n              alignItems: \"end\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"far fa-clock\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }), \" \", post.niceTime), React.createElement(Link, {\n            to: {\n              pathname: \"/share/thoughtsCorner/\".concat(post._id)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, \"Read more\")));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"eachPost\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              marginBottom: \"15px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"sharePic\",\n            style: {\n              backgroundImage: \"url(\".concat(post.author.profilePicUrl, \")\"),\n              marginRight: \"10px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }), React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, post.title)), React.createElement(\"p\", {\n            style: {\n              margin: \"0\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, post.text[0]), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, \"...\"), React.createElement(\"div\", {\n            className: \"rowFlex\",\n            style: {\n              justifyContent: \"space-between\",\n              alignItems: \"end\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"far fa-clock\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), \" \", post.niceTime), React.createElement(Link, {\n            to: {\n              pathname: \"/share/thoughtsCorner/\".concat(post._id)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"Read more\")));\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"posts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, eachPost);\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/jennifervphan/Desktop/final project/grandmeet-client/src/components/share/AllPosts.jsx"],"names":["React","Component","axios","Link","formatWrittenAt","AllPosts","constructor","props","state","bind","componentDidMount","method","baseURL","process","env","REACT_APP_API","withCredentials","then","response","changePost","data","now","Date","eachchangePost","map","post","text","length","short","substring","niceTime","writtenAt","setState","posts","catch","err","console","log","render","eachPost","index","marginBottom","alignItems","backgroundImage","author","profilePicUrl","marginRight","title","margin","justifyContent","pathname","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './AllPosts.css';\nimport {Link} from 'react-router-dom';\nimport {\n    formatWrittenAt\n  } from '../../method'; \n\nexport default class AllPosts extends Component {\n    constructor(props) {\n        super(props);\n        this.state= {};\n        this.formatWrittenAt=formatWrittenAt.bind(this);\n    }\n\n    componentDidMount(){\n        axios({\n            method: \"GET\",\n            baseURL:`${process.env.REACT_APP_API}/post`,\n            withCredentials: true\n        })\n        .then(response=>{\n            let changePost = response.data;\n            let now = new Date();\n            debugger\n            let eachchangePost= changePost.map(post=>{\n                if (post.text[0].length > 100) {\n                post.short = []\n                post.short[0] = post.text[0].substring(0, 100) + \"...\"\n            }else if (post.text.length > 1) {\n                post.short = []\n                post.short[0] = post.text[0]\n                post.short[1] = \"...\"\n                }\n                post.niceTime = this.formatWrittenAt(new Date(post.writtenAt), now);\n                return post\n            })\n        \n            this.setState({posts:eachchangePost})\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    render() {\n        if(this.state.posts){\n            const {posts}= this.state;\n        let eachPost= posts.map((post,index)=>{\n            if(post.short){\n                debugger\n                // let eachShort= post.short.map(short=>{\n                //     return(\n                //         <p style={{margin:\"0\"}}>{short}</p>\n                //     )\n                // })\n                return(\n                    <div className=\"eachPost\"  key={index}>\n                        <div className=\"rowFlex\" style={{marginBottom:\"15px\", alignItems:\"center\"}}>\n                            <div className=\"sharePic\" style={{backgroundImage: `url(${post.author.profilePicUrl})`, marginRight:\"10px\"}}></div>\n                            <h4>{post.title}</h4>\n                        </div>\n                        {/* {eachShort} */}\n                        <p style={{margin:\"0\"}}>{post.short[0]}</p>\n                        <p>{post.short[1]}</p>\n                        <div className=\"rowFlex\" style={{justifyContent:\"space-between\", alignItems:\"end\"}}>\n                            <p><i class=\"far fa-clock\"></i> {post.niceTime}</p>\n                            <Link to={{\n                            pathname:`/share/thoughtsCorner/${post._id}`\n                            }}>Read more\n                            </Link>\n                        </div>\n                        \n                    </div>\n                    \n                    \n                )\n            } else{\n                return(\n                    <div className=\"eachPost\" key={index}>\n                        <div className=\"rowFlex\" style={{marginBottom:\"15px\"}}>\n                            <div className=\"sharePic\" style={{backgroundImage: `url(${post.author.profilePicUrl})`, marginRight:\"10px\"}}></div>\n                            <h4>{post.title}</h4>\n                        </div>\n                        <p style={{margin:\"0\"}}>{post.text[0]}</p>\n                        <p>...</p>\n                        <div className=\"rowFlex\" style={{justifyContent:\"space-between\", alignItems:\"end\"}}>\n                            <p><i class=\"far fa-clock\"></i> {post.niceTime}</p>\n                            <Link to={{\n                            pathname:`/share/thoughtsCorner/${post._id}`\n                            }}>Read more</Link>\n                        </div>\n                    </div>\n            )\n            }\n            \n        })\n        return (\n            <div  className=\"posts\">\n                {eachPost}\n            </div>\n        )\n        } else {\n            return(\n                <>\n                </>\n            )\n        }\n        \n    }\n}\n"]},"metadata":{},"sourceType":"module"}