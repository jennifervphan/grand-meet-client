{"ast":null,"code":"var _jsxFileName = \"/Users/jennifervphan/Desktop/Code/labs/project3/grandMeet-client/src/pages/Nearby.jsx\";\nimport React, { Component } from 'react';\nimport { geolocated } from 'react-geolocated';\nimport axios from 'axios';\nexport default class Nearby extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    debugger;\n    axios.get(\"http://localhost:5000/api/nearby\").then(response => {\n      console.log(response.data);\n      this.setState({\n        users: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  calculateDistance(lat1, lon1, lat2, lon2, unit) {\n    var radlat1 = Math.PI * lat1 / 180;\n    var radlat2 = Math.PI * lat2 / 180;\n    var radlon1 = Math.PI * lon1 / 180;\n    var radlon2 = Math.PI * lon2 / 180;\n    var theta = lon1 - lon2;\n    var radtheta = Math.PI * theta / 180;\n    var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180 / Math.PI;\n    dist = dist * 60 * 1.1515 * 1.609344;\n    return dist;\n  }\n\n  calculateUserDist() {\n    let users = [...this.state.users];\n\n    for (i = 0; i < users.length; i++) {\n      users[i][\"distance\"] = this.calculateDistance(users[0][\"latitude\"], users[0][\"longitute\"], users[i][\"latitude\"], users[i][\"longitute\"]);\n    }\n\n    users.sort(function (a, b) {\n      return a.distance - b.distance;\n    });\n    this.setState({\n      users: users\n    });\n  }\n\n  render() {\n    this.calculateUserDist();\n    const users = this.state.users;\n    let eachUser = users.map(user => {});\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/jennifervphan/Desktop/Code/labs/project3/grandMeet-client/src/pages/Nearby.jsx"],"names":["React","Component","geolocated","axios","Nearby","constructor","props","state","users","componentDidMount","get","then","response","console","log","data","setState","catch","error","calculateDistance","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","radlon1","radlon2","theta","radtheta","dist","sin","cos","acos","calculateUserDist","i","length","sort","a","b","distance","render","eachUser","map","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {geolocated} from 'react-geolocated';\nimport axios from 'axios';\n\nexport default class Nearby extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            users: []\n        }\n    }\n    componentDidMount() {\n        debugger\n          axios.get(`http://localhost:5000/api/nearby`)\n          .then(response => {\n              console.log(response.data)\n              this.setState({users: response.data});\n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      }\n\n      calculateDistance (lat1, lon1, lat2, lon2, unit) {\n        var radlat1 = Math.PI * lat1/180\n        var radlat2 = Math.PI * lat2/180\n        var radlon1 = Math.PI * lon1/180\n        var radlon2 = Math.PI * lon2/180\n        var theta = lon1-lon2\n        var radtheta = Math.PI * theta/180\n        var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        dist = Math.acos(dist)\n        dist = dist * 180/Math.PI\n        dist = dist * 60 * 1.1515* 1.609344\n        return dist\n      }\n\n      calculateUserDist(){\n        let users=[...this.state.users];\n        for ( i = 0; i < users.length; i++) {\n            users[i][\"distance\"] = this.calculateDistance(users[0][\"latitude\"],users[0][\"longitute\"],users[i][\"latitude\"],users[i][\"longitute\"]);}\n            users.sort(function(a, b) { \n                return a.distance - b.distance;\n            });\n        this.setState({users:users})\n    } \n\n    render() {\n        this.calculateUserDist();\n        const users = this.state.users;\n        let eachUser=users.map(user=>{\n            \n        })\n        return (\n            <div>\n                \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}